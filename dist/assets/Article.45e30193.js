import{d as $,u as H,Y as N,c as l,l as S,P as w,as as Y,G as fe,x as ve,at as me,i as E,_ as pe,A as le,r as ie,o as se,h as V,w as be,m as ge,p as he,B as _e,aR as ye,aS as Oe,$ as we,aT as ke,a8 as Ae,a as Ce,aU as Re,a9 as Pe,ae as D,Z as Be,aL as Se,a1 as xe,a2 as je,a4 as X,aa as G,af as Te,a3 as ee,k as Ie}from"./index.d8811b67.js";import{D as Ne,M as te,u as Ee,A as $e}from"./useDestroyed.8f346a79.js";import{D as De,K as ae,R as Le}from"./Row.ec1a0ba5.js";import{_ as He}from"./index.926ec553.js";var Me=globalThis&&globalThis.__rest||function(n,e){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)e.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(a[r[t]]=n[r[t]]);return a},Fe=function(){return{prefixCls:String,href:String,separator:w.any,overlay:w.any,onClick:Function}};const L=$({name:"ABreadcrumbItem",inheritAttrs:!1,__ANT_BREADCRUMB_ITEM:!0,props:Fe(),slots:["separator","overlay"],setup:function(e,a){var r=a.slots,t=a.attrs,i=H("breadcrumb",e),s=i.prefixCls,p=function(y,m){var u=N(r,e,"overlay");return u?l(Ne,{overlay:u,placement:"bottom"},{default:function(){return[l("span",{class:"".concat(m,"-overlay-link")},[y,l(De,null,null)])]}}):y};return function(){var _,y=(_=N(r,e,"separator"))!==null&&_!==void 0?_:"/",m=N(r,e),u=t.class,b=t.style,d=Me(t,["class","style"]),f;return e.href!==void 0?f=l("a",S({class:"".concat(s.value,"-link"),onClick:e.onClick},d),[m]):f=l("span",S({class:"".concat(s.value,"-link"),onClick:e.onClick},d),[m]),f=p(f,s.value),m?l("span",{class:u,style:b},[f,y&&l("span",{class:"".concat(s.value,"-separator")},[y])]):null}}});var Ue=function(){return{prefixCls:String,routes:{type:Array},params:w.any,separator:w.any,itemRender:{type:Function}}};function ze(n,e){if(!n.breadcrumbName)return null;var a=Object.keys(e).join("|"),r=n.breadcrumbName.replace(new RegExp(":(".concat(a,")"),"g"),function(t,i){return e[i]||t});return r}function re(n){var e=n.route,a=n.params,r=n.routes,t=n.paths,i=r.indexOf(e)===r.length-1,s=ze(e,a);return i?l("span",null,[s]):l("a",{href:"#/".concat(t.join("/"))},[s])}const x=$({name:"ABreadcrumb",props:Ue(),slots:["separator","itemRender"],setup:function(e,a){var r=a.slots,t=H("breadcrumb",e),i=t.prefixCls,s=t.direction,p=function(u,b){return u=(u||"").replace(/^\//,""),Object.keys(b).forEach(function(d){u=u.replace(":".concat(d),b[d])}),u},_=function(u,b,d){var f=pe(u),g=p(b||"",d);return g&&f.push(g),f},y=function(u){var b=u.routes,d=b===void 0?[]:b,f=u.params,g=f===void 0?{}:f,R=u.separator,k=u.itemRender,P=k===void 0?re:k,v=[];return d.map(function(o){var c=p(o.path,g);c&&v.push(c);var h=[].concat(v),A=null;return o.children&&o.children.length&&(A=l(te,null,{default:function(){return[o.children.map(function(O){return l(te.Item,{key:O.path||O.breadcrumbName},{default:function(){return[P({route:O,params:g,routes:d,paths:_(h,O.path,g)})]}})})]}})),l(L,{overlay:A,separator:R,key:c||o.breadcrumbName},{default:function(){return[P({route:o,params:g,routes:d,paths:h})]}})})};return function(){var m,u,b,d=e.routes,f=e.params,g=f===void 0?{}:f,R=Y(N(r,e)),k=(u=N(r,e,"separator"))!==null&&u!==void 0?u:"/",P=e.itemRender||r.itemRender||re;d&&d.length>0?b=y({routes:d,params:g,separator:k,itemRender:P}):R.length&&(b=R.map(function(o,c){return fe(ve(o.type)==="object"&&(o.type.__ANT_BREADCRUMB_ITEM||o.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),me(o,{separator:k,key:c})}));var v=(m={},E(m,i.value,!0),E(m,"".concat(i.value,"-rtl"),s.value==="rtl"),m);return l("div",{class:v},[b])}}});var Ke=globalThis&&globalThis.__rest||function(n,e){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)e.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(a[r[t]]=n[r[t]]);return a},Ve=function(){return{prefixCls:String}};const q=$({name:"ABreadcrumbSeparator",__ANT_BREADCRUMB_SEPARATOR:!0,inheritAttrs:!1,props:Ve(),setup:function(e,a){var r=a.slots,t=a.attrs,i=H("breadcrumb",e),s=i.prefixCls;return function(){var p;t.separator;var _=t.class,y=Ke(t,["separator","class"]),m=Y((p=r.default)===null||p===void 0?void 0:p.call(r));return l("span",S({class:["".concat(s.value,"-separator"),_]},y),[m.length>0?m:"/"])}}});x.Item=L;x.Separator=q;x.install=function(n){return n.component(x.name,x),n.component(L.name,L),n.component(q.name,q),n};var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const qe=Ge;function ne(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(t){Ye(n,t,a[t])})}return n}function Ye(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Z=function(e,a){var r=ne({},e,a.attrs);return l(le,ne({},r,{icon:qe}),null)};Z.displayName="ArrowLeftOutlined";Z.inheritAttrs=!1;const Ze=Z;var Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const Qe=Je;function oe(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(t){We(n,t,a[t])})}return n}function We(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var J=function(e,a){var r=oe({},e,a.attrs);return l(le,oe({},r,{icon:Qe}),null)};J.displayName="ArrowRightOutlined";J.inheritAttrs=!1;const Xe=J;var et=globalThis&&globalThis.__rest||function(n,e){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)e.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(a[r[t]]=n[r[t]]);return a},tt={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},at=$({name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup:function(e,a){var r=a.slots,t=a.emit,i=a.attrs,s=a.expose,p=ie(),_=function(f){var g=f.keyCode;g===ae.ENTER&&f.preventDefault()},y=function(f){var g=f.keyCode;g===ae.ENTER&&t("click",f)},m=function(f){t("click",f)},u=function(){p.value&&p.value.focus()},b=function(){p.value&&p.value.blur()};return se(function(){e.autofocus&&u()}),s({focus:u,blur:b}),function(){var d,f=e.noStyle,g=e.disabled,R=et(e,["noStyle","disabled"]),k={};return f||(k=V({},tt)),g&&(k.pointerEvents="none"),l("div",S(S(S({role:"button",tabindex:0,ref:p},R),i),{},{onClick:m,onKeydown:_,onKeyup:y,style:V(V({},k),i.style||{})}),[(d=r.default)===null||d===void 0?void 0:d.call(r)])}}});const rt=at;var nt=function(){return{backIcon:w.any,prefixCls:String,title:w.any,subTitle:w.any,breadcrumb:w.object,tags:w.any,footer:w.any,extra:w.any,avatar:w.object,ghost:{type:Boolean,default:void 0},onBack:Function}},ot=$({name:"APageHeader",props:nt(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(e,a){var r=a.emit,t=a.slots,i=H("page-header",e),s=i.prefixCls,p=i.direction,_=i.pageHeader,y=ie(!1),m=Ee(),u=function(o){var c=o.width;m.value||(y.value=c<768)},b=ge(function(){var v,o,c;return(c=(v=e.ghost)!==null&&v!==void 0?v:(o=_.value)===null||o===void 0?void 0:o.ghost)!==null&&c!==void 0?c:!0}),d=function(){var o,c,h;return(h=(o=e.backIcon)!==null&&o!==void 0?o:(c=t.backIcon)===null||c===void 0?void 0:c.call(t))!==null&&h!==void 0?h:p.value==="rtl"?l(Xe,null,null):l(Ze,null,null)},f=function(o){return!o||!e.onBack?null:l(Oe,{componentName:"PageHeader",children:function(h){var A=h.back;return l("div",{class:"".concat(s.value,"-back")},[l(rt,{onClick:function(O){r("back",O)},class:"".concat(s.value,"-back-button"),"aria-label":A},{default:function(){return[o]}})])}},null)},g=function(){var o;return e.breadcrumb?l(x,e.breadcrumb,null):(o=t.breadcrumb)===null||o===void 0?void 0:o.call(t)},R=function(){var o,c,h,A,C,O,j,M,F,U=e.avatar,T=(o=e.title)!==null&&o!==void 0?o:(c=t.title)===null||c===void 0?void 0:c.call(t),I=(h=e.subTitle)!==null&&h!==void 0?h:(A=t.subTitle)===null||A===void 0?void 0:A.call(t),z=(C=e.tags)!==null&&C!==void 0?C:(O=t.tags)===null||O===void 0?void 0:O.call(t),K=(j=e.extra)!==null&&j!==void 0?j:(M=t.extra)===null||M===void 0?void 0:M.call(t),B="".concat(s.value,"-heading"),Q=T||I||z||K;if(!Q)return null;var ue=d(),W=f(ue),de=W||U||Q;return l("div",{class:B},[de&&l("div",{class:"".concat(B,"-left")},[W,U?l($e,U,null):(F=t.avatar)===null||F===void 0?void 0:F.call(t),T&&l("span",{class:"".concat(B,"-title"),title:typeof T=="string"?T:void 0},[T]),I&&l("span",{class:"".concat(B,"-sub-title"),title:typeof I=="string"?I:void 0},[I]),z&&l("span",{class:"".concat(B,"-tags")},[z])]),K&&l("span",{class:"".concat(B,"-extra")},[K])])},k=function(){var o,c,h=(o=e.footer)!==null&&o!==void 0?o:_e((c=t.footer)===null||c===void 0?void 0:c.call(t));return ye(h)?null:l("div",{class:"".concat(s.value,"-footer")},[h])},P=function(o){return l("div",{class:"".concat(s.value,"-content")},[o])};return function(){var v,o,c,h=((o=e.breadcrumb)===null||o===void 0?void 0:o.routes)||t.breadcrumb,A=e.footer||t.footer,C=Y((c=t.default)===null||c===void 0?void 0:c.call(t)),O=he(s.value,(v={"has-breadcrumb":h,"has-footer":A},E(v,"".concat(s.value,"-ghost"),b.value),E(v,"".concat(s.value,"-rtl"),p.value==="rtl"),E(v,"".concat(s.value,"-compact"),y.value),v));return l(Le,{onResize:u},{default:function(){return[l("div",{class:O},[g(),R(),C.length?P(C):null,k()])]}})}}});const ce=be(ot);const lt={name:"Article",components:{APageHeader:ce},setup(){const n=ke(),e=Ae(),a=Ce({id:null,article:[],author:[],comment:0,sort:[],tag:[],is_load:!0,is_top:[],url:"#",auth:[],config:{comments:{show:!0,allow:!0}}});e.dispatch("commitArticle",{is_comments:!1}),Re((t,i,s)=>{a.id=t.params.id||null,r.getArticle(),s()});const r={initData(){r.checkArticle()},initState(){a.id=n.params.id,a.url=window.location.href,a.author={pay:{alipay:"",wechat_pay:""}},a.auth={is_pwd:!1,password:""},a.hide=[]},checkArticle(){G("article/sql",{params:{where:`id=${a.id};`,"login-token":`${e.state.login["login-token"]}`}}).then(t=>{if(t.data.code==200){const i=t.data.data;i.count>0&&(!D.is.empty(i.data[0].opt)&&i.data[0].opt.auth=="password"?(a.auth.is_pwd=!0,a.article=i.data[0],a.is_load=!1):r.getArticle())}})},getArticle(){G("article",{params:{id:a.id,password:a.auth.password},headers:{"login-token":`${e.state.login["login-token"]}`}}).then(t=>{if(t.data.code==200){a.auth.is_pwd=!1;const i=t.data.data;a.article=i,a.comment=i.expand.comments,a.author=i.expand.author,a.sort=i.expand.sort;const s=i.expand.tag;D.is.empty(s)?a.tag={is_show:!1,data:[]}:a.tag={is_show:!0,data:s},a.is_load=!1,document.title=a.article.title+" - "+e.state.cocos_config.basic.site.title}else Te.warning({message:"\u9519\u8BEF\uFF01",description:t.data.msg});r.getConfig()})},getConfig(){G("options",{params:{key:"config:system"}}).then(i=>{if(i.data.code==200){const s=i.data.data;r.setShow(s.opt)}})}};return r.initState(),se(()=>{r.initData()}),{...Pe(a),methods:r}},methods:{natureTime(n){const e=D.date.to.time(n);return D.time.nature(e)},computed:{...Be(["cocos_config"])}}},it={class:"articleRow",id:"article"},st={class:"content"},ct=["innerHTML"];function ut(n,e,a,r,t,i){const s=He,p=ce,_=Se("code-highlight");return xe(),je("div",it,[l(p,{title:n.article.title,class:"site-page-header","sub-title":n.article.last_update_time,onBack:e[0]||(e[0]=()=>null)},{default:X(()=>[ee("div",st,[l(s,{class:"contentRow"},{default:X(()=>[Ie(ee("div",{innerHTML:n.article.content,class:"mackdown"},null,8,ct),[[_]])]),_:1})])]),_:1},8,["title","sub-title"])])}const pt=we(lt,[["render",ut],["__scopeId","data-v-41a2a8f0"]]);export{pt as default};
